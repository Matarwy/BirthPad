openapi: 3.0.3
info:
  title: BirthPad API
  version: 0.1.0
servers:
  - url: http://localhost:3000
paths:
  /projects:
    get:
      summary: List projects
      parameters:
        - in: query
          name: sort
          schema:
            type: string
            enum: [trending, new, all]
      responses:
        '200':
          description: Project list
    post:
      summary: Create project
      parameters:
        - in: header
          name: x-wallet-address
          required: true
          schema: { type: string }
        - in: header
          name: x-wallet-signature
          required: true
          schema: { type: string }
        - in: header
          name: x-wallet-nonce
          required: true
          schema: { type: string }
      requestBody:
        required: true
      responses:
        '201': { description: Created }
  /projects/{id}:
    get:
      summary: Get project details
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      responses:
        '200': { description: Project details }
        '404': { description: Not found }
  /projects/{id}/buy:
    post:
      summary: Buy into project sale
      responses:
        '202': { description: Buy transaction queued }
  /projects/{id}/finalize:
    post:
      summary: Finalize project sale
      responses:
        '200': { description: Finalization queued }
  /projects/{id}/refund:
    post:
      summary: Refund contribution
      responses:
        '200': { description: Refund queued }
